<div class="beatmap-grid-container">
    <div class="beatmap-grid" id="beatmap-list-list">
        {{#each beatmaps}}
            <div class="beatmap-grid-item" data-id="{{this.id}}">
                <div
                    class="beatmap-background-image"
                    style="background-image: url('{{this.imageUrl}}');"
                >
                </div>
                <div class="beatmap-container">
                    <div class="beatmap-name">
                        <a
                            href="https://osu.ppy.sh/beatmapsets/{{this.setId}}#{{this.mode}}/{{this.id}}"
                            class="beatmap-title-artist"
                        >
                            {{this.title}}
                            -
                            {{this.artist}}
                        </a>
                        <a
                            href="https://osu.ppy.sh/users/{{this.creatorId}}"
                            class="beatmap-creator"
                        >mapped by {{this.creator}}</a>
                    </div>
                    <div class="beatmap-description">{{this.rankedStatus}}
                        ({{this.stats.difficultyRating}}*,
                        {{this.stats.bpm}}
                        bpm) -
                        {{this.stats.version}}</div>
                    <div class="beatmap-setup">Stats:
                        {{convertSecsToMinsWithSecs this.stats.lengthInSeconds}}
                        min
                        {{this.stats.maxCombo}}x AR
                        {{this.stats.ar}}
                        CS
                        {{this.stats.cs}}
                    </div>
                    {{#if this.userRank}}
                        <div class="beatmap-bugs">
                            <a
                                href="https://osu.ppy.sh/scores/osu/{{this.userRank.id}}"
                            >
                                Achieved rank:
                                {{this.userRank.rank}}
                                {{renderStringArray this.userRank.mods}}
                                {{convertToPercent this.userRank.accuracy}}%
                                {{#if this.userRank.pp}}{{convertToNormalPp
                                        this.userRank.pp
                                    }}pp{{/if}}
                                {{this.userRank.maxCombo}}/{{this.stats.maxCombo}}
                                ({{this.userRank.counts.x300}}/{{this.userRank.counts.x100}}/{{this.userRank.counts.x50}}/{{this.userRank.counts.miss}})
                            </a>
                        </div>
                    {{/if}}
                    <div class="beatmap-tags">
                        <ul>
                            <li class="beatmap-tag beatmap-tag-youtube">
                                <a
                                    href="https://www.youtube.com/results?search_query={{encodeStringToUrlParameter
                                        this.title
                                        this.artist
                                    }}"
                                    target="_blank"
                                >
                                    Find on YouTube
                                </a>
                            </li>
                            <li class="beatmap-tag beatmap-tag-preview">
                                Preview with jmir.xyz
                            </li>
                            <li class="beatmap-tag beatmap-tag-osu-direct">
                                <a href="osu://b/{{this.id}}">
                                    osu!direct
                                </a>
                            </li>
                            {{#each this.customTags}}
                                <li class="beatmap-tag">{{this}}</li>
                            {{/each}}
                            {{#each this.osuTags}}
                                <li class="beatmap-tag">{{this}}</li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            </div>
        {{/each}}
    </div>
</div>